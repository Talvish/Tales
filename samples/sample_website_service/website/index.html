<!DOCTYPE html>
<html>
<!-- TODO: should move URL, version, etc. to configuration ... need to JSP it -->
<head>
	<title>Hello World</title>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script> 
</head>

<body>
    <div id="form">
        <span id="label">echo </span>
        <input id="value" />
        <button id="submit">submit</button>
    </div>
    <div id="output"></div>
    <script>
    	$("#submit").click( function( ) {
    	    /** TODO: Not sure this encoding below is sufficient: http://stackoverflow.com/questions/6544564/url-encode-a-string-in-jquery-for-an-ajax-request **/
    	    var submitValue = encodeURIComponent( $("#value").val( ) );
    		$("#output").html( "executing ..." ); 
    		$.ajax( {
				type:'GET',
				url:'http://localhost:8090/simple_contract/echo?version=20140124&value=' + submitValue + '&override.response.readability=HUMAN',
				success:function(data) {
					$("#output").html( data.return );
				},
				failure:function(data) {
 					$("#output").html( "failure" );
				}
			})  
		});
    </script>
</body>
</html>